var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _Typography=_interopRequireDefault(require("./Core/Typography"));var _reactNative=require("react-native");var _color=_interopRequireDefault(require("color"));var _Ripple=_interopRequireDefault(require("./Core/Ripple"));var _Icon=_interopRequireDefault(require("./Core/Icon"));var _Hooks=require("../Helpers/Hooks");var _Theming=require("../Theming");var _jsxFileName="/Users/devloops/Desktop/reactNative/reactNativeMUI/src/Components/Chip.tsx";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var AnimatedBaseIcon=_reactNative.Animated.createAnimatedComponent(_Icon.default);var Chip=function Chip(_ref){var icon=_ref.icon,label=_ref.label,avatarSource=_ref.avatarSource,_ref$variant=_ref.variant,variant=_ref$variant===void 0?'outlined':_ref$variant,color=_ref.color,_ref$selectedIcon=_ref.selectedIcon,selectedIcon=_ref$selectedIcon===void 0?'check':_ref$selectedIcon,_ref$elevation=_ref.elevation,elevation=_ref$elevation===void 0?2:_ref$elevation,selectedColor=_ref.selectedColor,isSelected=_ref.isSelected,onSelect=_ref.onSelect,action=_ref.action,theme=_ref.theme,props=(0,_objectWithoutProperties2.default)(_ref,["icon","label","avatarSource","variant","color","selectedIcon","elevation","selectedColor","isSelected","onSelect","action","theme"]);theme=(0,_Theming.useTheme)(theme);color=color||theme.color.primary;selectedColor=color||theme.color.primary;var animated=(0,_Hooks.useAnimation)({type:'timing',toValue:isSelected===undefined&&icon?20:isSelected?20:1,initialValue:0,easing:_reactNative.Easing.linear,duration:200});var textColor=color&&isSelected?color:theme.color.text,activeBG=(0,_color.default)(selectedColor).alpha(0.15).toString(),bg=(0,_color.default)('white').darken(0.15).toString(),colorAnimate=isSelected===undefined?textColor:animated.interpolate({inputRange:[0,20],outputRange:[textColor,selectedColor]});return _react.default.createElement(_reactNative.View,{style:{marginRight:8,borderRadius:30,overflow:'hidden'},__source:{fileName:_jsxFileName,lineNumber:73}},_react.default.createElement(_Ripple.default,(0,_extends2.default)({rippleColor:selectedColor,style:[style.container,{marginRight:0}],onPress:onSelect?function(){return onSelect(!isSelected);}:undefined},props,{__source:{fileName:_jsxFileName,lineNumber:74}}),_react.default.createElement(_reactNative.Animated.View,{style:[style.root,variant==='outlined'?_objectSpread({},style.outlined,{borderColor:colorAnimate}):_objectSpread({},style.flat,{backgroundColor:isSelected===undefined?bg:animated.interpolate({inputRange:[0,20],outputRange:[bg,activeBG]}),elevation:elevation})],__source:{fileName:_jsxFileName,lineNumber:79}},icon||selectedIcon?_react.default.createElement(AnimatedIcon,{name:selectedIcon||icon,size:animated,color:colorAnimate,style:{marginLeft:animated.interpolate({inputRange:[0,20],outputRange:[0,4]})},__source:{fileName:_jsxFileName,lineNumber:97}}):avatarSource?_react.default.createElement(AvatarImage,{avatarSource:avatarSource,isSelected:isSelected,__source:{fileName:_jsxFileName,lineNumber:109}}):null,_react.default.createElement(_reactNative.View,{style:style.text,__source:{fileName:_jsxFileName,lineNumber:111}},_react.default.createElement(_Typography.default,{color:colorAnimate.toString(),animated:true,variant:"subtitle1",__source:{fileName:_jsxFileName,lineNumber:112}},label)),isSelected===undefined&&action&&action({role:'chip',onPress:function onPress(){alert('test');},backgroundColor:(0,_color.default)(textColor).isDark()?(0,_color.default)(textColor).alpha(0.6).toString():textColor,color:(0,_color.default)(textColor).isDark()?'white':'#555',rippleStyle:{marginRight:4},size:14}))));};var AvatarImage=function AvatarImage(_ref2){var avatarSource=_ref2.avatarSource,isSelected=_ref2.isSelected;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2.default)(_useState,2),isLoad=_useState2[0],setIsLoad=_useState2[1];var translate=(0,_react.useRef)(new _reactNative.Animated.Value(-30)).current;var selected=(0,_react.useRef)(new _reactNative.Animated.Value(0)).current;(0,_react.useEffect)(function(){if(isLoad)_reactNative.Animated.timing(translate,{toValue:0,duration:200,easing:_reactNative.Easing.linear}).start();},[isLoad]);(0,_react.useEffect)(function(){_reactNative.Animated.timing(selected,{toValue:0,duration:200,easing:_reactNative.Easing.linear}).start();},[isSelected]);return _react.default.createElement(_reactNative.Animated.View,{style:[isLoad?style.thumbnailWrapper:{width:0,height:0,overflow:'hidden'},{transform:[{translateX:translate}]}],__source:{fileName:_jsxFileName,lineNumber:163}},_react.default.createElement(_reactNative.ImageBackground,{onLoadEnd:function onLoadEnd(){return setIsLoad(true);},source:avatarSource,style:style.thumbnail,__source:{fileName:_jsxFileName,lineNumber:172}},_react.default.createElement(_reactNative.Animated.View,{style:[_reactNative.StyleSheet.absoluteFillObject,{backgroundColor:'rgba(0,0,0,.24)',justifyContent:'center',alignItems:'center',transform:[{translateX:translate}]}],__source:{fileName:_jsxFileName,lineNumber:176}},_react.default.createElement(_Icon.default,{name:"check",color:"white",size:20,style:{marginTop:4,marginLeft:4},__source:{fileName:_jsxFileName,lineNumber:186}}))));};var AnimatedIcon=function AnimatedIcon(_ref3){var name=_ref3.name,color=_ref3.color,props=(0,_objectWithoutProperties2.default)(_ref3,["name","color"]);return _react.default.createElement(AnimatedBaseIcon,(0,_extends2.default)({name:name,color:color},props,{__source:{fileName:_jsxFileName,lineNumber:199}}));};var style=_reactNative.StyleSheet.create({container:{flexDirection:'row',flexWrap:'wrap',marginRight:8,borderRadius:30},root:{flexDirection:'row',borderRadius:50,padding:4,alignContent:'center',alignItems:'center',minHeight:32},outlined:{borderWidth:_reactNative.StyleSheet.hairlineWidth,borderStyle:'solid',borderColor:'#777'},action:{marginVertical:0,marginHorizontal:0,paddingVertical:0,paddingHorizontal:0},flat:{borderWidth:0,borderColor:'transparent'},thumbnailWrapper:{marginRight:0,borderRadius:24},thumbnail:{overflow:'hidden',margin:4,marginRight:0,width:24,borderRadius:24,height:24},text:{marginHorizontal:8,marginBottom:2}});var _default=Chip;exports.default=_default;
//# sourceMappingURL=Chip.js.map
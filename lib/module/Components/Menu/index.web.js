import _extends from"@babel/runtime/helpers/extends";import _defineProperty from"@babel/runtime/helpers/defineProperty";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";var _jsxFileName="/Users/devloops/Desktop/reactNative/reactNativeMUI/src/Components/Menu/index.web.tsx";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useRef,useState,useEffect}from'react';import{View,Animated,Easing,TouchableWithoutFeedback,StyleSheet}from'react-native';import{useDimensions,useLayout,useAnimation}from'../../Helpers/Hooks';import{elevationShadowStyle}from'../../Helpers/styleGenerator';import Ripple from'../Core/Ripple';import usePortal from'../../Helpers/Hooks/usePortal.web';var Menu=function Menu(_ref){var trigger=_ref.trigger,_ref$render=_ref.render,render=_ref$render===void 0?function(){return null;}:_ref$render,minWidth=_ref.minWidth,_ref$elevation=_ref.elevation,elevation=_ref$elevation===void 0?2:_ref$elevation,_ref$corderRadius=_ref.corderRadius,corderRadius=_ref$corderRadius===void 0?4:_ref$corderRadius,_ref$duration=_ref.duration,duration=_ref$duration===void 0?150:_ref$duration,_ref$delay=_ref.delay,delay=_ref$delay===void 0?1:_ref$delay;var contentLayout=useLayout();var _useState=useState({oy:0,ox:0,x:0,y:0,width:0,height:0}),_useState2=_slicedToArray(_useState,2),size=_useState2[0],setSize=_useState2[1];var _useDimensions$window=useDimensions().window,width=_useDimensions$window.width,height=_useDimensions$window.height;var _usePortal=usePortal({}),openPortal=_usePortal.openPortal,closePortal=_usePortal.closePortal,isOpen=_usePortal.isOpen,Portal=_usePortal.Portal;var triggerRef=useRef(null);var fade=useAnimation({type:'timing',toValue:isOpen?1:0,duration:duration,delay:delay,easing:isOpen===false?Easing.bezier(0,0.4,0.7,1):Easing.bezier(1,0.7,0.4,0)});useEffect(function(){if(triggerRef.current.measure)triggerRef.current.measure(function(ox,oy,width,height,px,py){setSize(_objectSpread({},size,{ox:ox,oy:oy,x:px,y:py,width:width,height:height}));});},[isOpen]);useEffect(function(){return function(){closePortal();};},[]);useEffect(function(){if(isOpen===true)openPortal(true);else setTimeout(function(){closePortal();},duration);},[isOpen]);var isTop=contentLayout.height+size.y>=height/2,isLeft=contentLayout.width+size.x>=width,top=isTop?size.y-contentLayout.height-8:size.y-8,left=isLeft?width-contentLayout.width-size.width-12:size.x-12,minWidthCalculate=size.width<(minWidth||contentLayout.width)?minWidth||contentLayout.width:size.width;return React.createElement(React.Fragment,null,trigger&&React.createElement(Ripple,_extends({buttonRef:triggerRef,onPress:function onPress(){openPortal(true);}},{__source:{fileName:_jsxFileName,lineNumber:97}}),trigger),React.createElement(Portal,{__source:{fileName:_jsxFileName,lineNumber:108}},React.createElement(TouchableWithoutFeedback,{style:[StyleSheet.absoluteFillObject],onPress:function onPress(){return closePortal();},__source:{fileName:_jsxFileName,lineNumber:109}},React.createElement(View,{style:{width:'100%',height:'100%'},__source:{fileName:_jsxFileName,lineNumber:112}})),React.createElement(View,{pointerEvents:isOpen?'auto':'none',accessibilityViewIsModal:true,accessibilityLiveRegion:"polite",style:{display:isOpen?'flex':'none',position:'absolute',flexDirection:'row-reverse',top:top,left:left,width:contentLayout.width,height:contentLayout.height},__source:{fileName:_jsxFileName,lineNumber:119}},React.createElement(Animated.View,{style:{flex:1,overflow:'hidden',alignSelf:'flex-start',minWidth:minWidthCalculate,minHeight:contentLayout.height||50},__source:{fileName:_jsxFileName,lineNumber:132}},React.createElement(Animated.View,{onLayout:contentLayout.onLayout,collapsable:true,style:_objectSpread({margin:elevation},elevationShadowStyle(elevation),{backgroundColor:'white',transform:[{translateX:fade.interpolate({inputRange:[0,1],outputRange:[(isLeft===false?-1:1)*contentLayout.width+size.width,0]})},{translateY:fade.interpolate({inputRange:[0,1],outputRange:[(isTop===false?-1:1)*contentLayout.height+size.height,0]})}],borderRadius:corderRadius}),__source:{fileName:_jsxFileName,lineNumber:140}},render({onDismiss:function onDismiss(){setTimeout(function(){closePortal();},200);}}))))));};export default Menu;
//# sourceMappingURL=index.web.js.map
{"version":3,"sources":["Collapse.tsx"],"names":["React","Animated","Easing","View","useLayout","useAnimation","Collapse","expanded","delay","duration","children","easyFunc","type","rest","collapse","toValue","initialValue","easing","inOut","cubic","contentLayout","console","log","height","interpolateHeight","interpolate","inputRange","outputRange","interpolatePosition","width","overflow","flexDirection","alignSelf","marginTop","onLayout"],"mappings":"iPAAA,MAAOA,CAAAA,KAAP,KAAiD,OAAjD,CACA,OAAQC,QAAR,CAAkBC,MAAlB,CAA0BC,IAA1B,KAAqC,cAArC,CACA,OAAQC,SAAR,CAAmBC,YAAnB,KAAsC,qBAAtC,CAUA,GAAMC,CAAAA,QAAiC,CAAG,QAApCA,CAAAA,QAAoC,MAQpC,wBAPJC,QAOI,CAPJA,QAOI,wBAPO,KAOP,+BANJC,KAMI,CANJA,KAMI,qBANI,CAMJ,+BALJC,QAKI,CALJA,QAKI,wBALO,EAKP,eAJJC,QAII,MAJJA,QAII,CAHJC,QAGI,MAHJA,QAGI,gBAFJC,IAEI,CAFJA,IAEI,oBAFG,UAEH,WADDC,IACC,6FACJ,GAAMC,CAAAA,QAAQ,CAAGT,YAAY,CAAC,CAC5BO,IAAI,CAAE,QADsB,CAE5BG,OAAO,CAAER,QAAQ,CAAG,CAAH,CAAO,CAFI,CAG5BS,YAAY,CAAE,CAHc,CAI5BC,MAAM,CAAEN,QAAQ,EAAIT,MAAM,CAACgB,KAAP,CAAahB,MAAM,CAACiB,KAApB,CAJQ,CAK5BV,QAAQ,CAARA,QAL4B,CAM5BD,KAAK,CAALA,KAN4B,CAAD,CAA7B,CAQA,GAAMY,CAAAA,aAAa,CAAGhB,SAAS,EAA/B,CACAiB,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoCF,aAAa,CAACG,MAAlD,EACA,GAAMC,CAAAA,iBAAiB,CAAGV,QAAQ,CAACW,WAAT,CAAqB,CAC3CC,UAAU,CAAE,CAAC,CAAD,CAAI,CAAJ,CAD+B,CAE3CC,WAAW,CAAE,CAAC,CAAD,CAAIP,aAAa,CAACG,MAAlB,CAF8B,CAArB,CAA1B,CAIEK,mBAAmB,CAAGd,QAAQ,CAACW,WAAT,CAAqB,CACzCC,UAAU,CAAE,CAAC,CAAD,CAAI,CAAJ,CAD6B,CAEzCC,WAAW,CAAE,CACXP,aAAa,CAACG,MAAd,CAAuB,CAAvB,CAA2B,CAAC,IAA5B,CAAmC,CAACH,aAAa,CAACG,MADvC,CAEX,CAFW,CAF4B,CAArB,CAJxB,CAWA,MACE,qBAAC,IAAD,EACE,WAAW,KADb,CAEE,iBAAiB,CAAC,YAFpB,CAGE,uBAAuB,CAAC,QAH1B,CAIE,kBAAkB,CAAC,iBAJrB,CAKE,mBAAmB,CAAC,iBALtB,CAME,UAAU,KANZ,CAOE,aAAa,CAAE,CAAChB,QAAD,CAAY,MAAZ,CAAqB,MAPtC,CAQE,KAAK,CAAE,CACLsB,KAAK,CAAE,MADF,CAELC,QAAQ,CAAE,QAFL,CAGLC,aAAa,CAAE,QAHV,CAILC,SAAS,CAAE,YAJN,CART,iDAcE,oBAAC,QAAD,CAAU,IAAV,aACMnB,IADN,EAEE,KAAK,CAAE,CACLD,IAAI,GAAK,UAAT,CACI,CACEqB,SAAS,CAAEL,mBADb,CADJ,CAII,CACEL,MAAM,CAAEC,iBADV,CALC,CAFT,kDAWE,oBAAC,IAAD,EAAM,QAAQ,CAAEJ,aAAa,CAACc,QAA9B,iDAAyCxB,QAAzC,CAXF,CAdF,CADF,CA8BD,CA5DD,CA8DA,cAAeJ,CAAAA,QAAf","sourcesContent":["import React, {useRef, useEffect, useState} from 'react';\nimport {Animated, Easing, View} from 'react-native';\nimport {useLayout, useAnimation} from '../../Helpers/Hooks';\n\ninterface CollapseProps {\n  expanded?: boolean;\n  delay?: number;\n  duration?: number;\n  children?: React.ReactNode;\n  type?: 'position' | 'height';\n  easyFunc?: (value: number) => number;\n}\nconst Collapse: React.FC<CollapseProps> = ({\n  expanded = false,\n  delay = 0,\n  duration = 50,\n  children,\n  easyFunc,\n  type = 'position',\n  ...rest\n}) => {\n  const collapse = useAnimation({\n    type: 'timing',\n    toValue: expanded ? 1 : 0,\n    initialValue: 0,\n    easing: easyFunc || Easing.inOut(Easing.cubic),\n    duration,\n    delay,\n  });\n  const contentLayout = useLayout();\n  console.log('contentLayout.height', contentLayout.height);\n  const interpolateHeight = collapse.interpolate({\n      inputRange: [0, 1],\n      outputRange: [0, contentLayout.height],\n    }),\n    interpolatePosition = collapse.interpolate({\n      inputRange: [0, 1],\n      outputRange: [\n        contentLayout.height < 5 ? -1000 : -contentLayout.height,\n        0,\n      ],\n    });\n  return (\n    <View\n      collapsable\n      accessibilityRole=\"adjustable\"\n      accessibilityLiveRegion=\"polite\"\n      accessibilityLabel=\"collapasbleView\"\n      accessibilityTraits=\"frequentUpdates\"\n      accessible\n      pointerEvents={!expanded ? 'none' : 'auto'}\n      style={{\n        width: '100%',\n        overflow: 'hidden',\n        flexDirection: 'column',\n        alignSelf: 'flex-start',\n      }}>\n      <Animated.View\n        {...rest}\n        style={[\n          type === 'position'\n            ? {\n                marginTop: interpolatePosition,\n              }\n            : {\n                height: interpolateHeight,\n              },\n        ]}>\n        <View onLayout={contentLayout.onLayout}>{children}</View>\n      </Animated.View>\n    </View>\n  );\n};\n\nexport default Collapse;\n"]}
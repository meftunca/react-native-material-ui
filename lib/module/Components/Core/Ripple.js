import _extends from"@babel/runtime/helpers/extends";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";import _defineProperty from"@babel/runtime/helpers/defineProperty";var _jsxFileName="/Users/devloops/Desktop/reactNative/reactNativeMUI/src/Components/Core/Ripple.tsx";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useState,useEffect,useRef}from'react';import{StyleSheet,View,Animated,Easing,Platform,TouchableWithoutFeedback,I18nManager}from'react-native';import Color from'color';var radius=10;var styles=StyleSheet.create({container:_objectSpread({},StyleSheet.absoluteFillObject,{backgroundColor:'transparent',overflow:'hidden'}),ripple:{width:radius*2,height:radius*2,borderRadius:radius,overflow:'hidden',position:'absolute'}});var unique=0,mounted=false;var Ripple=function Ripple(_ref){var _ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled,hitSlop=_ref.hitSlop,pressRetentionOffset=_ref.pressRetentionOffset,children=_ref.children,_ref$rippleContainerB=_ref.rippleContainerBorderRadius,rippleContainerBorderRadius=_ref$rippleContainerB===void 0?0:_ref$rippleContainerB,testID=_ref.testID,nativeID=_ref.nativeID,accessible=_ref.accessible,onPressIn=_ref.onPressIn,onPressOut=_ref.onPressOut,_ref$delayPressIn=_ref.delayPressIn,delayPressIn=_ref$delayPressIn===void 0?150:_ref$delayPressIn,_ref$delayPressOut=_ref.delayPressOut,delayPressOut=_ref$delayPressOut===void 0?150:_ref$delayPressOut,_ref$delayLongPress=_ref.delayLongPress,delayLongPress=_ref$delayLongPress===void 0?500:_ref$delayLongPress,accessibilityHint=_ref.accessibilityHint,accessibilityLabel=_ref.accessibilityLabel,onPress=_ref.onPress,onLongPress=_ref.onLongPress,buttonRef=_ref.buttonRef,onLayout=_ref.onLayout,_ref$onRippleAnimatio=_ref.onRippleAnimation,onRippleAnimation=_ref$onRippleAnimatio===void 0?function(animation,callback){return animation.start(callback);}:_ref$onRippleAnimatio,_ref$rippleColor=_ref.rippleColor,rippleColor=_ref$rippleColor===void 0?'rgb(0, 0, 0)':_ref$rippleColor,_ref$rippleOpacity=_ref.rippleOpacity,rippleOpacity=_ref$rippleOpacity===void 0?0.2:_ref$rippleOpacity,_ref$rippleDuration=_ref.rippleDuration,rippleDuration=_ref$rippleDuration===void 0?260:_ref$rippleDuration,_ref$rippleSize=_ref.rippleSize,rippleSize=_ref$rippleSize===void 0?0:_ref$rippleSize,_ref$rippleCentered=_ref.rippleCentered,rippleCentered=_ref$rippleCentered===void 0?false:_ref$rippleCentered,_ref$rippleSequential=_ref.rippleSequential,rippleSequential=_ref$rippleSequential===void 0?true:_ref$rippleSequential,_ref$rippleFades=_ref.rippleFades,rippleFades=_ref$rippleFades===void 0?false:_ref$rippleFades,props=_objectWithoutProperties(_ref,["disabled","hitSlop","pressRetentionOffset","children","rippleContainerBorderRadius","testID","nativeID","accessible","onPressIn","onPressOut","delayPressIn","delayPressOut","delayLongPress","accessibilityHint","accessibilityLabel","onPress","onLongPress","buttonRef","onLayout","onRippleAnimation","rippleColor","rippleOpacity","rippleDuration","rippleSize","rippleCentered","rippleSequential","rippleFades"]);var _useState=useState({width:0,height:0,ripples:[]}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setBaseState=_useState2[1];var setState=function setState(newState){return setBaseState(_objectSpread({},state,{},newState));};var backgroundColorRipple=useRef(new Animated.Value(0)).current;useEffect(function(){mounted=true;return function(){mounted=false;unique=0;setBaseState({width:0,height:0,ripples:[]});};},[]);var onLayoutFunc=function onLayoutFunc(event){var _event$nativeEvent$la=event.nativeEvent.layout,width=_event$nativeEvent$la.width,height=_event$nativeEvent$la.height;if('function'===typeof onLayout){onLayout(event);setState({width:width,height:height});}},onPressFunc=function onPressFunc(event){var ripples=state.ripples;if(!rippleSequential||!ripples.length){if('function'===typeof onPress){requestAnimationFrame(function(){return onPress(event);});startRipple(event);}}},onLongPressFunc=function onLongPressFunc(event){if('function'===typeof onLongPress){requestAnimationFrame(function(){return onLongPress(event);});Animated.timing(backgroundColorRipple,{toValue:1,duration:rippleDuration,easing:Easing.bounce}).start();startRipple(event);}else if('function'===typeof onPress){Animated.timing(backgroundColorRipple,{toValue:1,duration:rippleDuration,easing:Easing.bounce}).start();startRipple(event);}},onPressInFunc=function onPressInFunc(event){if('function'===typeof onPressIn){onPressIn(event);}},onPressOutFunc=function onPressOutFunc(event){if('function'===typeof onPressOut){onPressOut(event);Animated.timing(backgroundColorRipple,{toValue:0,duration:rippleDuration,easing:Easing.bounce,delay:1000}).start();}else if('function'===typeof onPress){Animated.timing(backgroundColorRipple,{toValue:0,duration:rippleDuration,easing:Easing.linear,delay:1000}).start();}},onAnimationEnd=function onAnimationEnd(){if(mounted){setState(_objectSpread({},state,{ripples:state.ripples.slice(1)}));}},startRipple=function startRipple(event){var width=state.width,height=state.height;var w2=0.5*width;var h2=0.5*height;var _ref2=rippleCentered?{locationX:w2,locationY:h2}:event.nativeEvent,locationX=_ref2.locationX,locationY=_ref2.locationY;var offsetX=Math.abs(w2-locationX);var offsetY=Math.abs(h2-locationY);var R=rippleSize>0?0.5*rippleSize:Math.sqrt(Math.pow(w2+offsetX,2)+Math.pow(h2+offsetY,2));var ripple={unique:unique++,progress:new Animated.Value(0),locationX:locationX,locationY:locationY,R:R};var animation=Animated.timing(ripple.progress,{toValue:1,easing:Easing.out(Easing.ease),duration:rippleDuration,useNativeDriver:true});onRippleAnimation(animation,onAnimationEnd);setState({ripples:state.ripples.concat(ripple)});},renderRipple=function renderRipple(_ref3){var _rippleStyle;var unique=_ref3.unique,progress=_ref3.progress,locationX=_ref3.locationX,locationY=_ref3.locationY,R=_ref3.R;var rippleStyle=(_rippleStyle={top:locationY?locationY-radius:0},_defineProperty(_rippleStyle,I18nManager.isRTL?'right':'left',locationX?locationX-radius:0),_defineProperty(_rippleStyle,"backgroundColor",rippleColor),_defineProperty(_rippleStyle,"transform",[{scale:progress.interpolate({inputRange:[0,1],outputRange:[0.5/radius,R/radius]})}]),_defineProperty(_rippleStyle,"opacity",rippleFades?progress.interpolate({inputRange:[0,1],outputRange:[rippleOpacity,0]}):rippleOpacity),_rippleStyle);return React.createElement(Animated.View,{pointerEvents:"none",style:[styles.ripple,rippleStyle],key:unique,__source:{fileName:_jsxFileName,lineNumber:267}});};var touchableProps=_objectSpread({delayLongPress:delayLongPress,delayPressIn:delayPressIn,delayPressOut:delayPressOut,disabled:disabled,hitSlop:hitSlop,pressRetentionOffset:pressRetentionOffset,testID:testID,accessible:accessible,accessibilityHint:accessibilityHint,accessibilityLabel:accessibilityLabel,onLayout:onLayoutFunc,onPress:onPressFunc,onPressIn:onPressInFunc,onPressOut:onPressOutFunc,buttonRef:buttonRef,onLongPress:onLongPressFunc?onLongPressFunc:undefined},'web'!==Platform.OS?{nativeID:nativeID}:null);return React.createElement(View,{ref:buttonRef,pointerEvents:"box-none",__source:{fileName:_jsxFileName,lineNumber:296}},React.createElement(TouchableWithoutFeedback,_extends({},touchableProps,{__source:{fileName:_jsxFileName,lineNumber:297}}),React.createElement(Animated.View,_extends({},props,{pointerEvents:"box-none",__source:{fileName:_jsxFileName,lineNumber:298}}),children,React.createElement(Animated.View,{pointerEvents:"none",style:[styles.container,{borderRadius:rippleContainerBorderRadius,backgroundColor:backgroundColorRipple.interpolate({inputRange:[0,1],outputRange:['transparent',Color(rippleColor).alpha(0.25).toString()]})}],__source:{fileName:_jsxFileName,lineNumber:300}},state.ripples.map(renderRipple)))));};export default Ripple;
//# sourceMappingURL=Ripple.js.map
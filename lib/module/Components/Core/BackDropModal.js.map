{"version":3,"sources":["BackDropModal.tsx"],"names":["React","useEffect","useState","Modal","StyleSheet","TouchableWithoutFeedback","KeyboardAvoidingView","Animated","Easing","SafeAreaView","useAnimation","useDimensions","SafeAreaViewAnimated","createAnimatedComponent","BackDropModal","onClose","children","animationType","duration","delay","visible","fullScreen","backdropColor","modalVisible","setModalVisible","windowHeight","window","height","animation","type","toValue","initialValue","easing","ease","setTimeout","absoluteFill","zIndex","flex","backgroundColor","opacity","top","bottom","absoluteFillObject","justifyContent","alignContent","alignItems","alignSelf","flexGrow","flexShrink","interpolate","inputRange","outputRange","width"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {\n  Modal,\n  StyleSheet,\n  View,\n  TouchableWithoutFeedback,\n  KeyboardAvoidingView,\n  Animated,\n  Easing,\n} from 'react-native';\nimport SafeAreaView from 'react-native-safe-area-view';\nimport {useAnimation, useDimensions} from '../../Helpers/Hooks';\nconst SafeAreaViewAnimated = Animated.createAnimatedComponent(SafeAreaView);\ninterface BackDropModalProps {\n  visible?: boolean;\n  fullScreen?: boolean;\n  backdropColor?: string;\n  duration?: number;\n  delay?: number;\n  animationType?: 'fade' | 'slide' | 'none';\n  onClose?: () => void | undefined;\n  children?: React.ReactNode;\n}\n\nconst BackDropModal: React.FC<BackDropModalProps> = ({\n  onClose,\n  children,\n  animationType,\n  duration = 400,\n  delay,\n  visible = false,\n  fullScreen = false,\n  backdropColor = 'transparent',\n}) => {\n  const [modalVisible, setModalVisible] = useState<boolean>(visible);\n  const windowHeight = useDimensions().window.height;\n  const animation = useAnimation({\n    type: 'timing',\n    toValue: visible ? 1 : 0,\n    initialValue: visible ? 1 : 0,\n    easing: Easing.ease,\n    duration,\n    delay,\n  });\n  useEffect(() => {\n    return () => onClose && onClose();\n  }, []);\n\n  useEffect(() => {\n    if (visible === true) setModalVisible(true);\n    else if (backdropColor === 'transparent') setModalVisible(visible);\n    else\n      setTimeout(() => {\n        setModalVisible(visible);\n      }, 1200);\n  }, [visible]);\n  return (\n    <Modal\n      transparent\n      supportedOrientations={[\n        'landscape',\n        'landscape-left',\n        'landscape-right',\n        'portrait',\n        'portrait-upside-down',\n      ]}\n      animated={false}\n      hardwareAccelerated={true}\n      animationType=\"none\"\n      visible={modalVisible}\n      onDismiss={onClose}\n      onRequestClose={onClose}>\n      <Animated.View\n        pointerEvents={visible ? 'auto' : 'none'}\n        accessibilityViewIsModal\n        accessibilityLiveRegion=\"polite\"\n        style={[StyleSheet.absoluteFill]}>\n        <TouchableWithoutFeedback style={{zIndex: 0}} onPress={onClose}>\n          <Animated.View\n            style={{\n              flex: 1,\n              backgroundColor:\n                animationType === 'slide' ? 'transparent' : backdropColor,\n              opacity: animation,\n            }}\n          />\n        </TouchableWithoutFeedback>\n        <SafeAreaViewAnimated\n          forceInset={{top: 'always', bottom: 'always'}}\n          style={[\n            fullScreen === true && {\n              backgroundColor: 'white',\n            },\n            {\n              ...StyleSheet.absoluteFillObject,\n              justifyContent: 'center',\n              alignContent: 'center',\n              alignItems: 'center',\n              alignSelf: 'center',\n              flexGrow: 1,\n              flexShrink: 1,\n              // backgroundColor: 'red',\n              zIndex: 999,\n            },\n            fullScreen && {flex: 1, height: '100%'},\n            animationType === 'slide'\n              ? {\n                  top: animation.interpolate({\n                    inputRange: [0, 1],\n                    outputRange: [windowHeight, 0],\n                  }),\n                }\n              : animationType === 'fade'\n              ? {\n                  opacity: animation,\n                }\n              : {},\n          ]}\n          pointerEvents=\"box-none\">\n          <KeyboardAvoidingView\n            behavior=\"height\"\n            style={[\n              {\n                width: fullScreen ? '100%' : '80%',\n                backgroundColor: 'transparent',\n                justifyContent: 'center',\n                alignSelf: 'center',\n              },\n            ]}>\n            {children}\n          </KeyboardAvoidingView>\n        </SafeAreaViewAnimated>\n      </Animated.View>\n    </Modal>\n  );\n};\n\nexport default BackDropModal;\n"]}